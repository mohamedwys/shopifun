{%- comment -%}
  Modern Style Presets
  =====================
  Applies CSS custom property overrides based on the selected style preset
  and individual customization settings from the theme editor.

  Usage:
    {% render 'modern-style-presets' %}
    (Include in <head> of theme.liquid, after design system CSS)
{%- endcomment -%}

<style>
  :root {
    /* ==========================================================================
       Border Radius Presets
       ========================================================================== */
    {%- case settings.modern_border_radius -%}
      {%- when 'sharp' -%}
        --radius-sm: 0px;
        --radius-md: 0px;
        --radius-lg: 0px;
        --radius-xl: 0px;
        --radius-full: 0px;
      {%- when 'subtle' -%}
        --radius-sm: 2px;
        --radius-md: 4px;
        --radius-lg: 6px;
        --radius-xl: 8px;
        --radius-full: 999px;
      {%- when 'rounded' -%}
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
        --radius-xl: 16px;
        --radius-full: 999px;
      {%- when 'pill' -%}
        --radius-sm: 8px;
        --radius-md: 12px;
        --radius-lg: 16px;
        --radius-xl: 24px;
        --radius-full: 999px;
      {%- when 'full' -%}
        --radius-sm: 12px;
        --radius-md: 16px;
        --radius-lg: 24px;
        --radius-xl: 32px;
        --radius-full: 999px;
    {%- endcase -%}

    /* ==========================================================================
       Shadow Presets
       ========================================================================== */
    {%- case settings.modern_shadow_style -%}
      {%- when 'none' -%}
        --shadow-sm: none;
        --shadow-md: none;
        --shadow-lg: none;
        --shadow-xl: none;
      {%- when 'subtle' -%}
        --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
        --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.06);
        --shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.08);
        --shadow-xl: 0 8px 32px rgba(0, 0, 0, 0.1);
      {%- when 'medium' -%}
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
        --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
        --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.15);
      {%- when 'dramatic' -%}
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
        --shadow-md: 0 6px 20px rgba(0, 0, 0, 0.15);
        --shadow-lg: 0 12px 40px rgba(0, 0, 0, 0.2);
        --shadow-xl: 0 24px 60px rgba(0, 0, 0, 0.25);
    {%- endcase -%}

    /* ==========================================================================
       Spacing Scale
       ========================================================================== */
    {%- case settings.modern_spacing_scale -%}
      {%- when 'compact' -%}
        --space-xs: 2px;
        --space-sm: 4px;
        --space-md: 8px;
        --space-lg: 12px;
        --space-xl: 16px;
        --space-2xl: 24px;
        --space-3xl: 32px;
      {%- when 'relaxed' -%}
        --space-xs: 6px;
        --space-sm: 12px;
        --space-md: 20px;
        --space-lg: 28px;
        --space-xl: 36px;
        --space-2xl: 48px;
        --space-3xl: 64px;
      {%- when 'spacious' -%}
        --space-xs: 8px;
        --space-sm: 16px;
        --space-md: 24px;
        --space-lg: 32px;
        --space-xl: 48px;
        --space-2xl: 64px;
        --space-3xl: 80px;
    {%- endcase -%}

    /* ==========================================================================
       Typography Overrides
       ========================================================================== */
    {%- case settings.modern_heading_style -%}
      {%- when 'light' -%}
        --heading-weight: 300;
      {%- when 'normal' -%}
        --heading-weight: 500;
      {%- when 'bold' -%}
        --heading-weight: 700;
      {%- when 'black' -%}
        --heading-weight: 900;
    {%- endcase -%}

    {%- if settings.modern_heading_transform != blank and settings.modern_heading_transform != 'none' -%}
      --heading-transform: {{ settings.modern_heading_transform }};
    {%- else -%}
      --heading-transform: none;
    {%- endif -%}

    /* ==========================================================================
       Accent Colors & Gradient
       ========================================================================== */
    {%- if settings.modern_accent_color != blank -%}
      --color-accent: {{ settings.modern_accent_color }};
      --color-accent-rgb: {{ settings.modern_accent_color | color_to_rgb | remove: 'rgb(' | remove: ')' }};
    {%- endif -%}
    {%- if settings.modern_accent_secondary != blank -%}
      --color-accent-secondary: {{ settings.modern_accent_secondary }};
    {%- endif -%}
    {%- if settings.modern_accent_color != blank and settings.modern_accent_secondary != blank -%}
      --gradient-primary: linear-gradient(135deg, {{ settings.modern_accent_color }}, {{ settings.modern_accent_secondary }});
    {%- endif -%}
  }

  /* ==========================================================================
     Heading Styles Applied
     ========================================================================== */
  h1, h2, h3, h4, h5, h6,
  .h1, .h2, .h3, .h4, .h5, .h6,
  .modern-section__heading,
  .modern-recs__heading,
  .modern-trust__heading {
    font-weight: var(--heading-weight, 700);
    text-transform: var(--heading-transform, none);
  }

  /* ==========================================================================
     Product Image Ratio
     ========================================================================== */
  {%- case settings.modern_image_ratio -%}
    {%- when 'portrait' -%}
      .modern-product-card__image-wrapper { aspect-ratio: 3/4; }
    {%- when 'landscape' -%}
      .modern-product-card__image-wrapper { aspect-ratio: 4/3; }
    {%- when 'natural' -%}
      .modern-product-card__image-wrapper { aspect-ratio: auto; }
  {%- endcase -%}

  /* ==========================================================================
     Card Style Variants
     ========================================================================== */
  {%- case settings.modern_card_style -%}
    {%- when 'minimal' -%}
      .modern-product-card {
        border: none;
        box-shadow: none;
        background: transparent;
      }
    {%- when 'bordered' -%}
      .modern-product-card {
        border: 1px solid rgba(128, 128, 128, 0.12);
        box-shadow: none;
      }
    {%- when 'shadow' -%}
      .modern-product-card {
        border: none;
        box-shadow: var(--shadow-md);
      }
      .modern-product-card:hover {
        box-shadow: var(--shadow-lg);
      }
    {%- when 'glass' -%}
      .modern-product-card {
        border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }
  {%- endcase -%}

  /* ==========================================================================
     Button Shape
     ========================================================================== */
  {%- case settings.modern_button_shape -%}
    {%- when 'square' -%}
      .modern-btn { border-radius: 0; }
    {%- when 'rounded' -%}
      .modern-btn { border-radius: var(--radius-md, 8px); }
    {%- when 'pill' -%}
      .modern-btn { border-radius: var(--radius-full, 999px); }
  {%- endcase -%}

  /* ==========================================================================
     Style Presets (overrides for quick-start configurations)
     ========================================================================== */
  {%- case settings.modern_style_preset -%}
    {%- when 'minimal' -%}
      :root {
        --radius-sm: 0px; --radius-md: 2px; --radius-lg: 4px; --radius-xl: 6px;
        --shadow-sm: none; --shadow-md: 0 1px 3px rgba(0,0,0,0.04);
      }
      .modern-product-card { border: none; box-shadow: none; }
      .modern-btn { border-radius: 0; font-weight: 400; letter-spacing: 0.1em; text-transform: uppercase; font-size: 12px; }
    {%- when 'bold' -%}
      :root {
        --radius-sm: 8px; --radius-md: 12px; --radius-lg: 16px; --radius-xl: 24px;
        --shadow-md: 0 6px 20px rgba(0,0,0,0.12);
        --heading-weight: 900;
      }
      .modern-btn { border-radius: var(--radius-full, 999px); font-weight: 700; }
    {%- when 'luxury' -%}
      :root {
        --radius-sm: 0px; --radius-md: 0px; --radius-lg: 0px; --radius-xl: 0px;
        --heading-weight: 300; --heading-transform: uppercase;
        --tracking-tight: 0.1em;
      }
      .modern-btn { border-radius: 0; letter-spacing: 0.15em; text-transform: uppercase; font-weight: 300; }
      h1, h2, h3 { letter-spacing: 0.08em; }
    {%- when 'playful' -%}
      :root {
        --radius-sm: 12px; --radius-md: 16px; --radius-lg: 24px; --radius-xl: 32px;
        --shadow-md: 0 4px 16px rgba(102, 126, 234, 0.15);
        --heading-weight: 800;
      }
      .modern-btn { border-radius: var(--radius-full, 999px); }
      .modern-product-card { border-radius: var(--radius-xl, 32px); overflow: hidden; }
  {%- endcase -%}
</style>
