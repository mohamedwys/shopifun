{%- comment -%}
  Modern 404 Page
  ===============
  Beautiful 404 with animated illustration, search, and suggested pages.
{%- endcomment -%}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }
  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .modern-404 {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .modern-404__number {
    font-size: clamp(6rem, 20vw, 12rem);
    font-weight: 900;
    line-height: 1;
    letter-spacing: -0.05em;
    background: var(--gradient-primary, linear-gradient(135deg, #667eea, #764ba2));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin: 0;
    animation: modern404Float 3s ease-in-out infinite;
  }
  @keyframes modern404Float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
  @media (prefers-reduced-motion: reduce) {
    .modern-404__number { animation: none; }
  }

  .modern-404__heading {
    font-size: var(--text-2xl);
    font-weight: 700;
    margin: var(--space-lg) 0 var(--space-sm);
    letter-spacing: var(--tracking-tight);
  }
  .modern-404__description {
    font-size: var(--text-base);
    opacity: 0.6;
    margin: 0 0 var(--space-2xl);
    line-height: var(--leading-relaxed);
  }

  .modern-404__search {
    max-width: 400px;
    margin: 0 auto var(--space-2xl);
    position: relative;
  }
  .modern-404__search input {
    width: 100%;
    padding: var(--space-md) var(--space-md) var(--space-md) var(--space-3xl);
    border: 2px solid rgba(128,128,128,0.15);
    border-radius: var(--radius-full);
    font-size: var(--text-base);
    background: transparent;
    color: inherit;
    font-family: inherit;
  }
  .modern-404__search input:focus {
    outline: none;
    border-color: var(--color-button, #000);
  }
  .modern-404__search svg {
    position: absolute;
    left: var(--space-lg);
    top: 50%;
    transform: translateY(-50%);
    width: 18px;
    height: 18px;
    opacity: 0.4;
  }

  .modern-404__cta {
    display: flex;
    justify-content: center;
    gap: var(--space-md);
    flex-wrap: wrap;
    margin-bottom: var(--space-3xl);
  }

  .modern-404__links {
    display: flex;
    justify-content: center;
    gap: var(--space-xl);
    flex-wrap: wrap;
    padding-top: var(--space-2xl);
    border-top: 1px solid rgba(128,128,128,0.1);
  }
  .modern-404__link {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-sm);
    text-decoration: none;
    color: inherit;
    opacity: 0.6;
    transition: all var(--duration-fast) var(--ease-out);
    font-size: var(--text-sm);
    font-weight: 500;
  }
  .modern-404__link:hover { opacity: 1; transform: translateY(-2px); }
  .modern-404__link svg { width: 24px; height: 24px; }
{%- endstyle -%}

<div class="color-{{ section.settings.color_scheme }} gradient">
  <div class="page-width section-{{ section.id }}-padding">
    <div class="modern-404 modern-animate animate--fade-up">
      <p class="modern-404__number">404</p>
      <h1 class="modern-404__heading">{{ section.settings.heading | default: 'Page Not Found' }}</h1>
      <p class="modern-404__description">{{ section.settings.description | default: "The page you're looking for doesn't exist or has been moved." | escape }}</p>

      {%- if section.settings.show_search -%}
        <form action="/search" method="get" class="modern-404__search modern-animate animate--fade-up" data-stagger="2">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
          <input type="search" name="q" placeholder="Search our store..." aria-label="Search">
        </form>
      {%- endif -%}

      <div class="modern-404__cta modern-animate animate--fade-up" data-stagger="3">
        <a href="/" class="modern-btn modern-btn--primary" style="padding:var(--space-md) var(--space-3xl)">
          {{ section.settings.button_label | default: 'Back to Home' }}
        </a>
        <a href="/collections/all" class="modern-btn modern-btn--outline" style="padding:var(--space-md) var(--space-3xl)">
          Browse Products
        </a>
      </div>

      {%- if section.settings.show_popular_links -%}
        <div class="modern-404__links modern-animate animate--fade-up" data-stagger="4">
          <a href="/collections/all" class="modern-404__link">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/></svg>
            All Products
          </a>
          <a href="/collections" class="modern-404__link">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
            Collections
          </a>
          <a href="/pages/contact" class="modern-404__link">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
            Contact Us
          </a>
        </div>
      {%- endif -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Modern 404",
  "tag": "section",
  "class": "section-modern-404",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Page Not Found" },
    { "type": "textarea", "id": "description", "label": "Description", "default": "The page you're looking for doesn't exist or has been moved." },
    { "type": "text", "id": "button_label", "label": "Button label", "default": "Back to Home" },
    { "type": "checkbox", "id": "show_search", "default": true, "label": "Show search bar" },
    { "type": "checkbox", "id": "show_popular_links", "default": true, "label": "Show popular links" },
    { "type": "color_scheme", "id": "color_scheme", "label": "Color scheme", "default": "background-1" },
    { "type": "range", "id": "padding_top", "min": 0, "max": 200, "step": 4, "default": 80, "unit": "px", "label": "Padding top" },
    { "type": "range", "id": "padding_bottom", "min": 0, "max": 200, "step": 4, "default": 80, "unit": "px", "label": "Padding bottom" }
  ],
  "presets": [{ "name": "Modern 404" }]
}
{% endschema %}
