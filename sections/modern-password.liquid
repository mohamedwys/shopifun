{%- comment -%}
  Modern Password / Coming Soon Page
  ===================================
  Beautiful coming soon page with countdown, email signup, and social links.
{%- endcomment -%}

{%- style -%}
  .modern-password {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: {{ section.settings.text_color | default: '#ffffff' }};
    position: relative;
    overflow: hidden;
  }
  .modern-password__bg {
    position: absolute;
    inset: 0;
    background: {{ section.settings.background_gradient | default: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }};
    z-index: 0;
  }
  .modern-password__content {
    position: relative;
    z-index: 1;
    max-width: 600px;
    padding: var(--space-3xl) var(--space-xl);
  }

  .modern-password__logo {
    margin-bottom: var(--space-3xl);
  }
  .modern-password__logo img { max-height: 60px; }

  .modern-password__heading {
    font-size: var(--text-4xl);
    font-weight: 800;
    margin: 0 0 var(--space-lg);
    letter-spacing: var(--tracking-tight);
    line-height: var(--leading-tight);
  }
  .modern-password__description {
    font-size: var(--text-lg);
    opacity: 0.8;
    margin: 0 0 var(--space-3xl);
    line-height: var(--leading-relaxed);
  }

  /* Countdown */
  .modern-password__countdown {
    display: flex;
    justify-content: center;
    gap: var(--space-lg);
    margin-bottom: var(--space-3xl);
  }
  .modern-password__countdown-unit {
    text-align: center;
  }
  .modern-password__countdown-value {
    font-size: var(--text-4xl);
    font-weight: 800;
    line-height: 1;
  }
  .modern-password__countdown-label {
    font-size: var(--text-xs);
    text-transform: uppercase;
    letter-spacing: var(--tracking-widest);
    opacity: 0.6;
    margin-top: var(--space-xs);
  }

  /* Email Form */
  .modern-password__form {
    display: flex;
    gap: var(--space-sm);
    max-width: 450px;
    margin: 0 auto var(--space-2xl);
  }
  @media screen and (max-width: 549px) {
    .modern-password__form { flex-direction: column; }
  }
  .modern-password__input {
    flex: 1;
    padding: var(--space-md) var(--space-lg);
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: var(--radius-full);
    background: rgba(255,255,255,0.1);
    color: inherit;
    font-size: var(--text-base);
    font-family: inherit;
    backdrop-filter: blur(10px);
  }
  .modern-password__input::placeholder { color: rgba(255,255,255,0.5); }
  .modern-password__input:focus {
    outline: none;
    border-color: rgba(255,255,255,0.6);
  }
  .modern-password__submit {
    padding: var(--space-md) var(--space-2xl);
    background: rgba(255,255,255,0.2);
    color: inherit;
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: var(--radius-full);
    font-size: var(--text-sm);
    font-weight: 600;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: var(--tracking-wider);
    transition: all var(--duration-fast) var(--ease-out);
    font-family: inherit;
    backdrop-filter: blur(10px);
    white-space: nowrap;
  }
  .modern-password__submit:hover {
    background: rgba(255,255,255,0.3);
  }

  .modern-password__social {
    display: flex;
    justify-content: center;
    gap: var(--space-md);
  }
  .modern-password__social a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: rgba(255,255,255,0.1);
    color: inherit;
    transition: all var(--duration-fast) var(--ease-out);
    backdrop-filter: blur(10px);
  }
  .modern-password__social a:hover {
    background: rgba(255,255,255,0.25);
    transform: translateY(-2px);
  }
  .modern-password__social a svg { width: 18px; height: 18px; }

  /* Floating shapes */
  .modern-password__shape {
    position: absolute;
    border-radius: 50%;
    background: rgba(255,255,255,0.06);
    animation: passwordFloat 20s ease-in-out infinite;
  }
  .modern-password__shape:nth-child(1) { width: 300px; height: 300px; top: -50px; right: -50px; animation-delay: 0s; }
  .modern-password__shape:nth-child(2) { width: 200px; height: 200px; bottom: -30px; left: -30px; animation-delay: -7s; }
  .modern-password__shape:nth-child(3) { width: 150px; height: 150px; top: 40%; left: 10%; animation-delay: -14s; }
  @keyframes passwordFloat {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -30px) scale(1.05); }
    66% { transform: translate(-20px, 20px) scale(0.95); }
  }
  @media (prefers-reduced-motion: reduce) {
    .modern-password__shape { animation: none; }
  }
{%- endstyle -%}

<section class="modern-password">
  <div class="modern-password__bg">
    <div class="modern-password__shape"></div>
    <div class="modern-password__shape"></div>
    <div class="modern-password__shape"></div>
  </div>

  <div class="modern-password__content">
    {%- if section.settings.heading != blank -%}
      <h1 class="modern-password__heading modern-animate animate--fade-up">
        {{ section.settings.heading }}
      </h1>
    {%- endif -%}

    {%- if section.settings.description != blank -%}
      <p class="modern-password__description modern-animate animate--fade-up" data-stagger="2">
        {{ section.settings.description | escape }}
      </p>
    {%- endif -%}

    {%- if section.settings.show_countdown and section.settings.countdown_date != blank -%}
      <div class="modern-password__countdown modern-animate animate--fade-up" data-stagger="3" id="PasswordCountdown-{{ section.id }}">
        <div class="modern-password__countdown-unit">
          <div class="modern-password__countdown-value" id="PwDays-{{ section.id }}">00</div>
          <div class="modern-password__countdown-label">Days</div>
        </div>
        <div class="modern-password__countdown-unit">
          <div class="modern-password__countdown-value" id="PwHours-{{ section.id }}">00</div>
          <div class="modern-password__countdown-label">Hours</div>
        </div>
        <div class="modern-password__countdown-unit">
          <div class="modern-password__countdown-value" id="PwMins-{{ section.id }}">00</div>
          <div class="modern-password__countdown-label">Minutes</div>
        </div>
        <div class="modern-password__countdown-unit">
          <div class="modern-password__countdown-value" id="PwSecs-{{ section.id }}">00</div>
          <div class="modern-password__countdown-label">Seconds</div>
        </div>
      </div>
      <script>
        (function(){
          var end = new Date('{{ section.settings.countdown_date }}').getTime();
          function pad(n){return n<10?'0'+n:n}
          function tick(){
            var d=end-Date.now();
            if(d<=0)return;
            document.getElementById('PwDays-{{ section.id }}').textContent=pad(Math.floor(d/86400000));
            document.getElementById('PwHours-{{ section.id }}').textContent=pad(Math.floor((d%86400000)/3600000));
            document.getElementById('PwMins-{{ section.id }}').textContent=pad(Math.floor((d%3600000)/60000));
            document.getElementById('PwSecs-{{ section.id }}').textContent=pad(Math.floor((d%60000)/1000));
            setTimeout(tick,1000);
          }
          if(!isNaN(end))tick();
        })();
      </script>
    {%- endif -%}

    <div class="modern-animate animate--fade-up" data-stagger="4">
      {%- form 'customer', class: 'modern-password__form' -%}
        <input type="hidden" name="contact[tags]" value="coming-soon">
        <input type="email" name="contact[email]" class="modern-password__input" placeholder="Enter your email" required aria-label="Email">
        <button type="submit" class="modern-password__submit">Notify Me</button>
      {%- endform -%}
    </div>

    <div class="modern-password__social modern-animate animate--fade-up" data-stagger="5">
      {%- if settings.social_facebook_link != blank -%}
        <a href="{{ settings.social_facebook_link }}" target="_blank" rel="noopener" aria-label="Facebook">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg>
        </a>
      {%- endif -%}
      {%- if settings.social_instagram_link != blank -%}
        <a href="{{ settings.social_instagram_link }}" target="_blank" rel="noopener" aria-label="Instagram">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="5"/><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"/><circle cx="17.5" cy="6.5" r="1.5"/></svg>
        </a>
      {%- endif -%}
      {%- if settings.social_twitter_link != blank -%}
        <a href="{{ settings.social_twitter_link }}" target="_blank" rel="noopener" aria-label="Twitter">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"/></svg>
        </a>
      {%- endif -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Modern Password",
  "tag": "section",
  "class": "section-modern-password",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "We're Coming Soon" },
    { "type": "textarea", "id": "description", "label": "Description", "default": "Something exciting is on the way. Enter your email to be the first to know when we launch." },
    { "type": "header", "content": "Countdown" },
    { "type": "checkbox", "id": "show_countdown", "default": true, "label": "Show countdown" },
    { "type": "text", "id": "countdown_date", "label": "Launch date", "info": "YYYY-MM-DD HH:MM", "default": "2026-12-31 23:59" },
    { "type": "header", "content": "Style" },
    { "type": "text", "id": "background_gradient", "label": "Background gradient", "default": "linear-gradient(135deg, #667eea 0%, #764ba2 100%)" },
    { "type": "color", "id": "text_color", "label": "Text color", "default": "#ffffff" }
  ],
  "presets": [{ "name": "Modern Password" }]
}
{% endschema %}
