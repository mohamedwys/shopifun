{%- comment -%}
  Modern Newsletter Section
  =========================
  Standalone newsletter signup section with gradient background,
  animated form, and clean modern design.
{%- endcomment -%}

{%- style -%}
  .modern-newsletter-section--{{ section.id }} {
    background: {{ section.settings.background_gradient | default: 'var(--gradient-primary)' }};
    color: {{ section.settings.text_color }};
  }

  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .modern-newsletter-section--{{ section.id }} .modern-newsletter__input {
    border-color: rgba(255, 255, 255, 0.3);
    color: inherit;
  }

  .modern-newsletter-section--{{ section.id }} .modern-newsletter__input::placeholder {
    color: inherit;
    opacity: 0.6;
  }

  .modern-newsletter-section--{{ section.id }} .modern-newsletter__input:focus {
    border-color: rgba(255, 255, 255, 0.7);
  }

  .modern-newsletter-section--{{ section.id }} .modern-btn--primary {
    background: {{ section.settings.button_bg | default: '#ffffff' }};
    color: {{ section.settings.button_text | default: '#000000' }};
  }
{%- endstyle -%}

<section class="modern-newsletter modern-newsletter-section--{{ section.id }} section-{{ section.id }}-padding">
  <h2 class="modern-newsletter__title modern-animate animate--fade-up">
    {{ section.settings.heading | default: 'Stay in the loop' }}
  </h2>
  <p class="modern-newsletter__description modern-animate animate--fade-up" data-stagger="2">
    {{ section.settings.description | default: 'Subscribe for exclusive offers and new arrivals.' }}
  </p>

  {%- form 'customer', id: 'ModernNewsletter' -%}
    <input type="hidden" name="contact[tags]" value="newsletter">
    <div class="modern-newsletter__form modern-animate animate--fade-up" data-stagger="3">
      <input
        type="email"
        name="contact[email]"
        class="modern-newsletter__input"
        placeholder="{{ 'newsletter.label' | t | default: 'Your email address' }}"
        required
        autocomplete="email"
        aria-label="{{ 'newsletter.label' | t | default: 'Email address' }}"
      >
      <button type="submit" class="modern-btn modern-btn--primary">
        {{ section.settings.button_label | default: 'Subscribe' }}
      </button>
    </div>
  {%- endform -%}
</section>

{% schema %}
{
  "name": "Modern Newsletter",
  "tag": "section",
  "class": "section-modern-newsletter",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Stay in the loop"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Subscribe for exclusive offers, new arrivals, and insider updates delivered straight to your inbox."
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "Subscribe"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "text",
      "id": "background_gradient",
      "label": "Background gradient (CSS)",
      "default": "linear-gradient(135deg, #667eea 0%, #764ba2 100%)"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_bg",
      "label": "Button background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_text",
      "label": "Button text color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 20,
      "max": 100,
      "step": 4,
      "default": 60,
      "unit": "px",
      "label": "Padding top"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 20,
      "max": 100,
      "step": 4,
      "default": 60,
      "unit": "px",
      "label": "Padding bottom"
    }
  ],
  "presets": [
    {
      "name": "Modern Newsletter"
    }
  ]
}
{% endschema %}
