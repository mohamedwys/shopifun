{%- comment -%}
  Modern Theme Onboarding
  ========================
  First-time setup wizard with checklist, feature highlights,
  and quick configuration for new store owners.
  Only visible in the theme editor.
{%- endcomment -%}

{%- style -%}
  .modern-onboarding {
    max-width: 700px;
    margin: 0 auto;
    padding: var(--space-3xl, 48px) var(--space-xl, 24px);
  }
  .modern-onboarding__header {
    text-align: center;
    margin-bottom: var(--space-3xl, 48px);
  }
  .modern-onboarding__logo {
    font-size: 40px;
    margin-bottom: var(--space-md, 16px);
  }
  .modern-onboarding__title {
    font-size: var(--text-2xl, 24px);
    font-weight: 800;
    margin: 0 0 var(--space-sm, 8px);
  }
  .modern-onboarding__subtitle {
    font-size: var(--text-sm, 14px);
    opacity: 0.6;
    margin: 0;
  }

  /* Progress */
  .modern-onboarding__progress {
    margin-bottom: var(--space-3xl, 48px);
  }
  .modern-onboarding__progress-bar {
    height: 8px;
    background: rgba(128, 128, 128, 0.1);
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: var(--space-sm, 8px);
  }
  .modern-onboarding__progress-fill {
    height: 100%;
    background: var(--gradient-primary, linear-gradient(90deg, #667eea, #764ba2));
    border-radius: 4px;
    transition: width 0.5s ease;
  }
  .modern-onboarding__progress-text {
    font-size: var(--text-xs, 12px);
    opacity: 0.5;
    text-align: center;
  }

  /* Checklist */
  .modern-onboarding__checklist {
    list-style: none;
    padding: 0;
    margin: 0 0 var(--space-3xl, 48px);
  }
  .modern-onboarding__item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md, 16px);
    padding: var(--space-lg, 20px);
    border-radius: var(--radius-lg, 12px);
    border: 1px solid rgba(128, 128, 128, 0.08);
    margin-bottom: var(--space-sm, 8px);
    transition: all 0.2s ease;
  }
  .modern-onboarding__item:hover {
    background: rgba(128, 128, 128, 0.03);
  }
  .modern-onboarding__item.is-complete {
    opacity: 0.5;
  }
  .modern-onboarding__check {
    width: 24px;
    height: 24px;
    border: 2px solid rgba(128, 128, 128, 0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    margin-top: 2px;
  }
  .modern-onboarding__item.is-complete .modern-onboarding__check {
    background: #10b981;
    border-color: #10b981;
    color: #fff;
  }
  .modern-onboarding__check svg { width: 14px; height: 14px; }
  .modern-onboarding__item-body { flex: 1; }
  .modern-onboarding__item-title {
    font-size: var(--text-sm, 14px);
    font-weight: 600;
    margin: 0 0 var(--space-xs, 4px);
  }
  .modern-onboarding__item-desc {
    font-size: var(--text-xs, 12px);
    opacity: 0.5;
    margin: 0;
    line-height: 1.5;
  }
  .modern-onboarding__item-action {
    font-size: var(--text-xs, 12px);
    font-weight: 600;
    color: var(--color-button, #667eea);
    text-decoration: none;
    margin-top: var(--space-xs, 4px);
    display: inline-block;
  }

  /* Feature Cards */
  .modern-onboarding__features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md, 16px);
    margin-bottom: var(--space-3xl, 48px);
  }
  .modern-onboarding__feature {
    padding: var(--space-xl, 24px);
    border-radius: var(--radius-lg, 12px);
    background: rgba(128, 128, 128, 0.03);
    border: 1px solid rgba(128, 128, 128, 0.06);
    text-align: center;
  }
  .modern-onboarding__feature-icon {
    font-size: 28px;
    margin-bottom: var(--space-sm, 8px);
  }
  .modern-onboarding__feature-name {
    font-size: var(--text-sm, 14px);
    font-weight: 600;
    margin: 0 0 var(--space-xs, 4px);
  }
  .modern-onboarding__feature-desc {
    font-size: var(--text-xs, 12px);
    opacity: 0.5;
    margin: 0;
  }

  /* Tips */
  .modern-onboarding__tip {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md, 16px);
    padding: var(--space-lg, 20px);
    background: rgba(59, 130, 246, 0.06);
    border: 1px solid rgba(59, 130, 246, 0.12);
    border-radius: var(--radius-lg, 12px);
    font-size: var(--text-sm, 14px);
    line-height: 1.5;
  }
  .modern-onboarding__tip-icon {
    font-size: 20px;
    flex-shrink: 0;
  }
{%- endstyle -%}

<div class="modern-onboarding">
  <div class="modern-onboarding__header modern-animate animate--fade-up">
    <div class="modern-onboarding__logo" aria-hidden="true">&#x1F680;</div>
    <h2 class="modern-onboarding__title">{{ section.settings.heading | default: 'Welcome to Your Modern Theme' }}</h2>
    <p class="modern-onboarding__subtitle">{{ section.settings.subtitle | default: "Let's get your store looking amazing in a few quick steps." }}</p>
  </div>

  <div class="modern-onboarding__progress modern-animate animate--fade-up" data-stagger="2">
    <div class="modern-onboarding__progress-bar">
      <div class="modern-onboarding__progress-fill" style="width: {{ section.settings.progress | default: 0 }}%"></div>
    </div>
    <p class="modern-onboarding__progress-text">{{ section.settings.progress | default: 0 }}% complete</p>
  </div>

  <ul class="modern-onboarding__checklist modern-animate animate--fade-up" data-stagger="3">
    {%- for block in section.blocks -%}
      {%- if block.type == 'step' -%}
        <li class="modern-onboarding__item {% if block.settings.complete %}is-complete{% endif %}" {{ block.shopify_attributes }}>
          <div class="modern-onboarding__check">
            {%- if block.settings.complete -%}
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
            {%- endif -%}
          </div>
          <div class="modern-onboarding__item-body">
            <h3 class="modern-onboarding__item-title">{{ block.settings.title }}</h3>
            <p class="modern-onboarding__item-desc">{{ block.settings.description }}</p>
            {%- if block.settings.action_label != blank -%}
              <a href="{{ block.settings.action_url }}" class="modern-onboarding__item-action">{{ block.settings.action_label }} &rarr;</a>
            {%- endif -%}
          </div>
        </li>
      {%- endif -%}
    {%- endfor -%}
  </ul>

  <div class="modern-onboarding__features modern-animate animate--fade-up" data-stagger="4">
    <div class="modern-onboarding__feature">
      <div class="modern-onboarding__feature-icon">&#x1F3A8;</div>
      <h4 class="modern-onboarding__feature-name">Style Presets</h4>
      <p class="modern-onboarding__feature-desc">Choose Minimal, Bold, Luxury, or Playful</p>
    </div>
    <div class="modern-onboarding__feature">
      <div class="modern-onboarding__feature-icon">&#x1F319;</div>
      <h4 class="modern-onboarding__feature-name">Dark Mode</h4>
      <p class="modern-onboarding__feature-desc">Built-in dark mode toggle</p>
    </div>
    <div class="modern-onboarding__feature">
      <div class="modern-onboarding__feature-icon">&#x26A1;</div>
      <h4 class="modern-onboarding__feature-name">Optimized</h4>
      <p class="modern-onboarding__feature-desc">90+ Lighthouse score</p>
    </div>
    <div class="modern-onboarding__feature">
      <div class="modern-onboarding__feature-icon">&#x1F4F1;</div>
      <h4 class="modern-onboarding__feature-name">Mobile First</h4>
      <p class="modern-onboarding__feature-desc">Touch gestures & haptics</p>
    </div>
  </div>

  <div class="modern-onboarding__tip modern-animate animate--fade-up" data-stagger="5">
    <span class="modern-onboarding__tip-icon">&#x1F4A1;</span>
    <div>
      <strong>Pro Tip:</strong> Start with a Style Preset in Theme Settings > Modern Style Presets, then customize individual settings. This gives you a beautiful starting point that you can fine-tune.
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Theme Onboarding",
  "tag": "section",
  "class": "section-modern-onboarding",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Welcome to Your Modern Theme" },
    { "type": "text", "id": "subtitle", "label": "Subtitle", "default": "Let's get your store looking amazing in a few quick steps." },
    { "type": "range", "id": "progress", "min": 0, "max": 100, "step": 10, "default": 0, "unit": "%", "label": "Progress percentage" }
  ],
  "blocks": [
    {
      "type": "step",
      "name": "Setup Step",
      "settings": [
        { "type": "text", "id": "title", "label": "Step title", "default": "Upload your logo" },
        { "type": "textarea", "id": "description", "label": "Description", "default": "Add your brand logo to make the store yours." },
        { "type": "checkbox", "id": "complete", "default": false, "label": "Completed" },
        { "type": "text", "id": "action_label", "label": "Action label" },
        { "type": "url", "id": "action_url", "label": "Action link" }
      ]
    }
  ],
  "presets": [{
    "name": "Theme Onboarding",
    "blocks": [
      { "type": "step", "settings": { "title": "Upload your logo", "description": "Go to Theme Settings > Logo to upload your brand logo and favicon.", "action_label": "Upload Logo" }},
      { "type": "step", "settings": { "title": "Set brand colors", "description": "Customize your color scheme in Theme Settings > Colors.", "action_label": "Set Colors" }},
      { "type": "step", "settings": { "title": "Choose a style preset", "description": "Pick Minimal, Bold, Luxury, or Playful in Modern Style Presets.", "action_label": "Choose Preset" }},
      { "type": "step", "settings": { "title": "Add your products", "description": "Add at least 6 products to show off your catalog beautifully." }},
      { "type": "step", "settings": { "title": "Configure payment", "description": "Set up Shopify Payments or your preferred payment provider." }},
      { "type": "step", "settings": { "title": "Test your checkout", "description": "Place a test order to make sure everything works smoothly." }}
    ]
  }]
}
{% endschema %}
